<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="./style/index.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
  <title>WebRTC Demo</title>
</head>
<body>
  <h1>WEBRTC Application Demonstration</h1>

  <!-- Join Server Section -->
  <section id="loginSection" style="display: block;">
  <form id="loginForm">
    <input type="text" id="uName" placeholder="Enter UserName" required />
    <button type="submit" id="joinBtn">Join Server</button>
  </form>
  </section>
  
 <!-- Post Join Section -->
  <section id="postJoinSection" style="display: none;">
      <div id="postJoin" >
    <h2>Welcome, <span id="displayUsername"></span></h2>

    <!-- Create Room -->
    <div id="createRoomSection">
      <button id="createRoomBtn">Create a Custom Room</button>
      <div id="createRoomForm" style="display: none;">
        <input type="text" id="newRoomId" placeholder="Enter Room ID" />
        <button id="submitRoomFormBtn" >create</button>
      </div>
    </div>

    <!-- Join Room -->
    <div id="joinRoomSection">
      <button id="joinRoomBtn">Join Room</button>
      <div id="joinRoomForm" style="display: none;">
        <select id="availableRooms"></select>
        <button id="joinRoombtn">Join</button>
      </div>
    </div>

    <!-- Initiate Call -->
    <div id="callUserSection">
      <button id="callUserBtn"">Initiate a Call</button>
      <div id="callUserForm" style="display: none;">
        <select id="availableUsers">
        </select>
        <button id="startCallbtn" >Call</button>
      </div>
    </div>
  </div>
  </section>

    <!-- Conference View -->
  <section id="conferenceSection" style="display: none;">
    <video id="localVideo" autoplay muted></video>
    <!-- conference controls -->
  </section>

<section id="callSection" style="display: none;">
  <div class="video-container">
    <h1 id="localUserP2P">My Video</h1>
    <video id="localVideoP2P" autoplay muted></video>
    <!-- ðŸ”§ Correct: Add controls here for your own stream -->
    <div class="controls">
      <button id="switchToCameraBtn" title="Switch to Camera">
        <i class="fas fa-video"></i>
      </button>
      <button id="switchToScreenBtn" title="Share Screen">
        <i class="fas fa-desktop"></i>
      </button>
    </div>
  </div>

  <div class="video-container">
    <h1 id="remoteUserP2P">Waiting for Other User...</h1>
    <video id="remoteVideoP2P" autoplay></video>
  </div>
</section>




  <script type="module" src="./js/index.js"></script>
</body>
</html>
